{% extends 'base.html' %} {% block content %}

<h1>Wallet Detail</h1>

<div class="row">
  <div class="col s6">
    <div class="card">
      <div class="card-content">
        <span class="card-title">{{ wallet.name }}</span>
      </div>
    </div>
  </div>
</div>
  
<div class="row">
  <div class="col s6">
    <h3>{{ wallet.name }}'s Coins</h3>
    {% if wallet.crypto %} 
      {% for coin in wallet.crypto %}
      <div class="card">
        <div class="card-content">
            {{ coin.amount }}
          <span class="card-title">
              {{ coin.crypto.symbol }}
          </span>
        </div>
      </div>
      <h3>Buy</h3>
      <form action="{% url 'buy_crypto' wallet.id coin.id %}" method="POST"></form>
      {% csrf_token %} 
      <label for="amount">Amount</label>
      <input text="text" name="amount">
      <input type="submit" value="Buy">
      </form>

      <h3>Sell</h3>
      <form action="{% url 'sell_crypto' wallet.id coin.id %}" method="POST"></form>
      {% csrf_token %} 
      <label for="amount">Amount</label>
      <input text="text" name="amount">
      <input type="submit" value="Sell">
      </form>

      {% endfor %} 
    {% else %}
      <h6>{{ wallet.name }} has no coins at this time</h6>
    {% endif %}
  </div>

  <div class="col s6">
      <h3>Available Coins</h3>
      {% if avail_crypto %} 
        {% for coin in avail_crypto %}
        <div class="card">
        <div class="card_content">
            <span>{{ coin.symbol }}</span>
        </div>
        <h3>Buy</h3>
        <form action="{% url 'buy_crypto' wallet.id coin.id %}" method="POST"></form>
        {% csrf_token %} 
        <label for="amount">Amount</label>
        <input text="text" name="amount">
        <input type="submit" value="Buy">
        </form>
        </div>
        {% endfor %} 
    {% else %}
    <h6>{{ wallet.name }} already has all coins available</h6>
    {% endif %}
  </div>
  </div>
  
</div>
{% endblock %}
